import{r as t,a as hn}from"./react-C0I7k9Au.js";import{w as lt,k as ct,t as un,K as E,b as st,m as dt,e as ft,a as vt,B as Sn,c as mt,y as pt,p as gt,z as ht}from"./rc-util-B8RFGR27.js";import{c as We}from"./classnames-vMWtCdb3.js";import{d as ln,c as ae,e as J,b as oe,g as Ae,h as Je,n as bt,f as Ee}from"./@babel-Ci6hP7BZ.js";import{F as St}from"./rc-overflow-BdfiTRtA.js";import{T as wt}from"./@rc-component-BJoEqscx.js";import{L as Ct}from"./rc-virtual-list-TpPQJB9h.js";var cn=function(e){var a=e.className,o=e.customizeIcon,i=e.customizeIconProps,r=e.onMouseDown,c=e.onClick,d=e.children,f;return typeof o=="function"?f=o(i):f=o,t.createElement("span",{className:a,onMouseDown:function(h){h.preventDefault(),r&&r(h)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},f!==void 0?f:t.createElement("span",{className:We(a.split(/\s+/).map(function(g){return"".concat(g,"-icon")}))},d))};function yt(n,e,a,o,i){var r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,c=arguments.length>6?arguments[6]:void 0,d=arguments.length>7?arguments[7]:void 0,f=hn.useMemo(function(){if(ln(o)==="object")return o.clearIcon;if(i)return i},[o,i]),g=hn.useMemo(function(){return!!(!r&&o&&(a.length||c)&&!(d==="combobox"&&c===""))},[o,r,a.length,c,d]);return{allowClear:g,clearIcon:hn.createElement(cn,{className:"".concat(n,"-clear"),onMouseDown:e,customizeIcon:f},"×")}}var Fn=t.createContext(null);function It(){return t.useContext(Fn)}function Et(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=t.useState(!1),a=ae(e,2),o=a[0],i=a[1],r=t.useRef(null),c=function(){window.clearTimeout(r.current)};t.useEffect(function(){return c},[]);var d=function(g,h){c(),r.current=window.setTimeout(function(){i(g),h&&h()},n)};return[o,d,c]}function An(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=t.useRef(null),a=t.useRef(null);t.useEffect(function(){return function(){window.clearTimeout(a.current)}},[]);function o(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(a.current),a.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},o]}function Rt(n,e,a,o){var i=t.useRef(null);i.current={open:e,triggerOpen:a,customizedTrigger:o},t.useEffect(function(){function r(c){var d;if(!((d=i.current)!==null&&d!==void 0&&d.customizedTrigger)){var f=c.target;f.shadowRoot&&c.composed&&(f=c.composedPath()[0]||f),i.current.open&&n().filter(function(g){return g}).every(function(g){return!g.contains(f)&&g!==f})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",r),function(){return window.removeEventListener("mousedown",r)}},[])}var Dt=function(e,a){var o,i,r=e.prefixCls,c=e.id,d=e.inputElement,f=e.disabled,g=e.tabIndex,h=e.autoFocus,s=e.autoComplete,C=e.editable,u=e.activeDescendantId,b=e.value,N=e.maxLength,Y=e.onKeyDown,T=e.onMouseDown,L=e.onChange,F=e.onPaste,Z=e.onCompositionStart,H=e.onCompositionEnd,G=e.open,ue=e.attrs,$=d||t.createElement("input",null),j=$,B=j.ref,W=j.props,Q=W.onKeyDown,ee=W.onChange,V=W.onMouseDown,ne=W.onCompositionStart,_=W.onCompositionEnd,y=W.style;return lt(!("maxLength"in $.props)),$=t.cloneElement($,J(J(J({type:"search"},W),{},{id:c,ref:ct(a,B),disabled:f,tabIndex:g,autoComplete:s||"off",autoFocus:h,className:We("".concat(r,"-selection-search-input"),(o=$)===null||o===void 0||(i=o.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-expanded":G||!1,"aria-haspopup":"listbox","aria-owns":"".concat(c,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(c,"_list"),"aria-activedescendant":G?u:void 0},ue),{},{value:C?b:"",maxLength:N,readOnly:!C,unselectable:C?null:"on",style:J(J({},y),{},{opacity:C?null:0}),onKeyDown:function(P){Y(P),Q&&Q(P)},onMouseDown:function(P){T(P),V&&V(P)},onChange:function(P){L(P),ee&&ee(P)},onCompositionStart:function(P){Z(P),ne&&ne(P)},onCompositionEnd:function(P){H(P),_&&_(P)},onPaste:F})),$},yn=t.forwardRef(Dt);yn.displayName="Input";function kn(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var Ot=typeof window<"u"&&window.document&&window.document.documentElement,Mt=Ot;function xt(n){return n!=null}function Pt(n){return!n&&n!==0}function Pn(n){return["string","number"].includes(ln(n))}function Kn(n){var e=void 0;return n&&(Pn(n.title)?e=n.title.toString():Pn(n.label)&&(e=n.label.toString())),e}function Nt(n,e){Mt?t.useLayoutEffect(n,e):t.useEffect(n,e)}function Tt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var Nn=function(e){e.preventDefault(),e.stopPropagation()},Vt=function(e){var a=e.id,o=e.prefixCls,i=e.values,r=e.open,c=e.searchValue,d=e.autoClearSearchValue,f=e.inputRef,g=e.placeholder,h=e.disabled,s=e.mode,C=e.showSearch,u=e.autoFocus,b=e.autoComplete,N=e.activeDescendantId,Y=e.tabIndex,T=e.removeIcon,L=e.maxTagCount,F=e.maxTagTextLength,Z=e.maxTagPlaceholder,H=Z===void 0?function(D){return"+ ".concat(D.length," ...")}:Z,G=e.tagRender,ue=e.onToggleOpen,$=e.onRemove,j=e.onInputChange,B=e.onInputPaste,W=e.onInputKeyDown,Q=e.onInputMouseDown,ee=e.onInputCompositionStart,V=e.onInputCompositionEnd,ne=t.useRef(null),_=t.useState(0),y=ae(_,2),x=y[0],P=y[1],Re=t.useState(!1),ve=ae(Re,2),le=ve[0],Ve=ve[1],k="".concat(o,"-selection"),ye=r||s==="multiple"&&d===!1||s==="tags"?c:"",Le=s==="tags"||s==="multiple"&&d===!1||C&&(r||le);Nt(function(){P(ne.current.scrollWidth)},[ye]);function I(D,U,re,ce,pe){return t.createElement("span",{className:We("".concat(k,"-item"),oe({},"".concat(k,"-item-disabled"),re)),title:Kn(D)},t.createElement("span",{className:"".concat(k,"-item-content")},U),ce&&t.createElement(cn,{className:"".concat(k,"-item-remove"),onMouseDown:Nn,onClick:pe,customizeIcon:T},"×"))}function v(D,U,re,ce,pe){var se=function(me){Nn(me),ue(!r)};return t.createElement("span",{onMouseDown:se},G({label:U,value:D,disabled:re,closable:ce,onClose:pe}))}function R(D){var U=D.disabled,re=D.label,ce=D.value,pe=!h&&!U,se=re;if(typeof F=="number"&&(typeof re=="string"||typeof re=="number")){var de=String(se);de.length>F&&(se="".concat(de.slice(0,F),"..."))}var me=function(_e){_e&&_e.stopPropagation(),$(D)};return typeof G=="function"?v(ce,se,U,pe,me):I(D,se,U,pe,me)}function K(D){var U=typeof H=="function"?H(D):H;return I({title:U},U,!1)}var A=t.createElement("div",{className:"".concat(k,"-search"),style:{width:x},onFocus:function(){Ve(!0)},onBlur:function(){Ve(!1)}},t.createElement(yn,{ref:f,open:r,prefixCls:o,id:a,inputElement:null,disabled:h,autoFocus:u,autoComplete:b,editable:Le,activeDescendantId:N,value:ye,onKeyDown:W,onMouseDown:Q,onChange:j,onPaste:B,onCompositionStart:ee,onCompositionEnd:V,tabIndex:Y,attrs:un(e,!0)}),t.createElement("span",{ref:ne,className:"".concat(k,"-search-mirror"),"aria-hidden":!0},ye," ")),z=t.createElement(St,{prefixCls:"".concat(k,"-overflow"),data:i,renderItem:R,renderRest:K,suffix:A,itemKey:Tt,maxCount:L});return t.createElement(t.Fragment,null,z,!i.length&&!ye&&t.createElement("span",{className:"".concat(k,"-placeholder")},g))},Lt=function(e){var a=e.inputElement,o=e.prefixCls,i=e.id,r=e.inputRef,c=e.disabled,d=e.autoFocus,f=e.autoComplete,g=e.activeDescendantId,h=e.mode,s=e.open,C=e.values,u=e.placeholder,b=e.tabIndex,N=e.showSearch,Y=e.searchValue,T=e.activeValue,L=e.maxLength,F=e.onInputKeyDown,Z=e.onInputMouseDown,H=e.onInputChange,G=e.onInputPaste,ue=e.onInputCompositionStart,$=e.onInputCompositionEnd,j=e.title,B=t.useState(!1),W=ae(B,2),Q=W[0],ee=W[1],V=h==="combobox",ne=V||N,_=C[0],y=Y||"";V&&T&&!Q&&(y=T),t.useEffect(function(){V&&ee(!1)},[V,T]);var x=h!=="combobox"&&!s&&!N?!1:!!y,P=j===void 0?Kn(_):j,Re=function(){if(_)return null;var le=x?{visibility:"hidden"}:void 0;return t.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:le},u)};return t.createElement(t.Fragment,null,t.createElement("span",{className:"".concat(o,"-selection-search")},t.createElement(yn,{ref:r,prefixCls:o,id:i,open:s,inputElement:a,disabled:c,autoFocus:d,autoComplete:f,editable:ne,activeDescendantId:g,value:y,onKeyDown:F,onMouseDown:Z,onChange:function(le){ee(!0),H(le)},onPaste:G,onCompositionStart:ue,onCompositionEnd:$,tabIndex:b,attrs:un(e,!0),maxLength:V?L:void 0})),!V&&_?t.createElement("span",{className:"".concat(o,"-selection-item"),title:P,style:x?{visibility:"hidden"}:void 0},_.label):null,Re())};function _t(n){return![E.ESC,E.SHIFT,E.BACKSPACE,E.TAB,E.WIN_KEY,E.ALT,E.META,E.WIN_KEY_RIGHT,E.CTRL,E.SEMICOLON,E.EQUALS,E.CAPS_LOCK,E.CONTEXT_MENU,E.F1,E.F2,E.F3,E.F4,E.F5,E.F6,E.F7,E.F8,E.F9,E.F10,E.F11,E.F12].includes(n)}var Ft=function(e,a){var o=t.useRef(null),i=t.useRef(!1),r=e.prefixCls,c=e.open,d=e.mode,f=e.showSearch,g=e.tokenWithEnter,h=e.autoClearSearchValue,s=e.onSearch,C=e.onSearchSubmit,u=e.onToggleOpen,b=e.onInputKeyDown,N=e.domRef;t.useImperativeHandle(a,function(){return{focus:function(){o.current.focus()},blur:function(){o.current.blur()}}});var Y=An(0),T=ae(Y,2),L=T[0],F=T[1],Z=function(y){var x=y.which;(x===E.UP||x===E.DOWN)&&y.preventDefault(),b&&b(y),x===E.ENTER&&d==="tags"&&!i.current&&!c&&(C==null||C(y.target.value)),_t(x)&&u(!0)},H=function(){F(!0)},G=t.useRef(null),ue=function(y){s(y,!0,i.current)!==!1&&u(!0)},$=function(){i.current=!0},j=function(y){i.current=!1,d!=="combobox"&&ue(y.target.value)},B=function(y){var x=y.target.value;if(g&&G.current&&/[\r\n]/.test(G.current)){var P=G.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");x=x.replace(P,G.current)}G.current=null,ue(x)},W=function(y){var x=y.clipboardData,P=x.getData("text");G.current=P},Q=function(y){var x=y.target;if(x!==o.current){var P=document.body.style.msTouchAction!==void 0;P?setTimeout(function(){o.current.focus()}):o.current.focus()}},ee=function(y){var x=L();y.target!==o.current&&!x&&d!=="combobox"&&y.preventDefault(),(d!=="combobox"&&(!f||!x)||!c)&&(c&&h!==!1&&s("",!0,!1),u())},V={inputRef:o,onInputKeyDown:Z,onInputMouseDown:H,onInputChange:B,onInputPaste:W,onInputCompositionStart:$,onInputCompositionEnd:j},ne=d==="multiple"||d==="tags"?t.createElement(Vt,Ae({},e,V)):t.createElement(Lt,Ae({},e,V));return t.createElement("div",{ref:N,className:"".concat(r,"-selector"),onClick:Q,onMouseDown:ee},ne)},$n=t.forwardRef(Ft);$n.displayName="Selector";var At=["prefixCls","disabled","visible","children","popupElement","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],kt=function(e){var a=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"}}},Kt=function(e,a){var o=e.prefixCls;e.disabled;var i=e.visible,r=e.children,c=e.popupElement,d=e.animation,f=e.transitionName,g=e.dropdownStyle,h=e.dropdownClassName,s=e.direction,C=s===void 0?"ltr":s,u=e.placement,b=e.builtinPlacements,N=e.dropdownMatchSelectWidth,Y=e.dropdownRender,T=e.dropdownAlign,L=e.getPopupContainer,F=e.empty,Z=e.getTriggerDOMNode,H=e.onPopupVisibleChange,G=e.onPopupMouseEnter,ue=Je(e,At),$="".concat(o,"-dropdown"),j=c;Y&&(j=Y(c));var B=t.useMemo(function(){return b||kt(N)},[b,N]),W=d?"".concat($,"-").concat(d):f,Q=typeof N=="number",ee=t.useMemo(function(){return Q?null:N===!1?"minWidth":"width"},[N,Q]),V=g;Q&&(V=J(J({},V),{},{width:N}));var ne=t.useRef(null);return t.useImperativeHandle(a,function(){return{getPopupElement:function(){return ne.current}}}),t.createElement(wt,Ae({},ue,{showAction:H?["click"]:[],hideAction:H?["click"]:[],popupPlacement:u||(C==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:B,prefixCls:$,popupTransitionName:W,popup:t.createElement("div",{ref:ne,onMouseEnter:G},j),stretch:ee,popupAlign:T,popupVisible:i,getPopupContainer:L,popupClassName:We(h,oe({},"".concat($,"-empty"),F)),popupStyle:V,getTriggerDOMNode:Z,onPopupVisibleChange:H}),r)},Bn=t.forwardRef(Kt);Bn.displayName="SelectTrigger";function Tn(n,e){var a=n.key,o;return"value"in n&&(o=n.value),a??(o!==void 0?o:"rc-index-key-".concat(e))}function Wn(n,e){var a=n||{},o=a.label,i=a.value,r=a.options,c=a.groupLabel,d=o||(e?"children":"label");return{label:d,value:i||"value",options:r||"options",groupLabel:c||d}}function $t(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.fieldNames,o=e.childrenAsData,i=[],r=Wn(a,!1),c=r.label,d=r.value,f=r.options,g=r.groupLabel;function h(s,C){s.forEach(function(u){if(C||!(f in u)){var b=u[d];i.push({key:Tn(u,i.length),groupOption:C,data:u,label:u[c],value:b})}else{var N=u[g];N===void 0&&o&&(N=u.label),i.push({key:Tn(u,i.length),group:!0,data:u,label:N}),h(u[f],!0)}})}return h(n,!1),i}function wn(n){var e=J({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return st(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function Bt(n,e){if(!e||!e.length)return null;var a=!1;function o(r,c){var d=bt(c),f=d[0],g=d.slice(1);if(!f)return[r];var h=r.split(f);return a=a||h.length>1,h.reduce(function(s,C){return[].concat(Ee(s),Ee(o(C,g)))},[]).filter(function(s){return s})}var i=o(n,e);return a?i:null}var Wt=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],zt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function Cn(n){return n==="tags"||n==="multiple"}var Ut=t.forwardRef(function(n,e){var a,o,i=n.id,r=n.prefixCls,c=n.className,d=n.showSearch,f=n.tagRender,g=n.direction,h=n.omitDomProps,s=n.displayValues,C=n.onDisplayValuesChange,u=n.emptyOptions,b=n.notFoundContent,N=b===void 0?"Not Found":b,Y=n.onClear,T=n.mode,L=n.disabled,F=n.loading,Z=n.getInputElement,H=n.getRawInputElement,G=n.open,ue=n.defaultOpen,$=n.onDropdownVisibleChange,j=n.activeValue,B=n.onActiveValueChange,W=n.activeDescendantId,Q=n.searchValue,ee=n.autoClearSearchValue,V=n.onSearch,ne=n.onSearchSplit,_=n.tokenSeparators,y=n.allowClear,x=n.suffixIcon,P=n.clearIcon,Re=n.OptionList,ve=n.animation,le=n.transitionName,Ve=n.dropdownStyle,k=n.dropdownClassName,ye=n.dropdownMatchSelectWidth,Le=n.dropdownRender,I=n.dropdownAlign,v=n.placement,R=n.builtinPlacements,K=n.getPopupContainer,A=n.showAction,z=A===void 0?[]:A,D=n.onFocus,U=n.onBlur,re=n.onKeyUp,ce=n.onKeyDown,pe=n.onMouseDown,se=Je(n,Wt),de=Cn(T),me=(d!==void 0?d:de)||T==="combobox",q=J({},se);zt.forEach(function(O){delete q[O]}),h==null||h.forEach(function(O){delete q[O]});var _e=t.useState(!1),He=ae(_e,2),be=He[0],Se=He[1];t.useEffect(function(){Se(dt())},[]);var je=t.useRef(null),ge=t.useRef(null),Fe=t.useRef(null),Ie=t.useRef(null),we=t.useRef(null),De=t.useRef(!1),sn=Et(),Ge=ae(sn,3),Qe=Ge[0],ke=Ge[1],dn=Ge[2];t.useImperativeHandle(e,function(){var O,w;return{focus:(O=Ie.current)===null||O===void 0?void 0:O.focus,blur:(w=Ie.current)===null||w===void 0?void 0:w.blur,scrollTo:function(he){var te;return(te=we.current)===null||te===void 0?void 0:te.scrollTo(he)}}});var Oe=t.useMemo(function(){var O;if(T!=="combobox")return Q;var w=(O=s[0])===null||O===void 0?void 0:O.value;return typeof w=="string"||typeof w=="number"?String(w):""},[Q,T,s]),en=T==="combobox"&&typeof Z=="function"&&Z()||null,Ne=typeof H=="function"&&H(),nn=ft(ge,Ne==null||(a=Ne.props)===null||a===void 0?void 0:a.ref),tn=t.useState(!1),ze=ae(tn,2),on=ze[0],fn=ze[1];vt(function(){fn(!0)},[]);var vn=Sn(!1,{defaultValue:ue,value:G}),an=ae(vn,2),rn=an[0],p=an[1],l=on?rn:!1,m=!N&&u;(L||m&&l&&T==="combobox")&&(l=!1);var S=m?!1:l,M=t.useCallback(function(O){var w=O!==void 0?O:!l;L||(p(w),l!==w&&($==null||$(w)))},[L,l,p,$]),X=t.useMemo(function(){return(_||[]).some(function(O){return[`
`,`\r
`].includes(O)})},[_]),Me=function(w,fe,he){var te=!0,Ce=w;B==null||B(null);var Pe=he?null:Bt(w,_);return T!=="combobox"&&Pe&&(Ce="",ne==null||ne(Pe),M(!1),te=!1),V&&Oe!==Ce&&V(Ce,{source:fe?"typing":"effect"}),te},Te=function(w){!w||!w.trim()||V(w,{source:"submit"})};t.useEffect(function(){!l&&!de&&T!=="combobox"&&Me("",!1,!1)},[l]),t.useEffect(function(){rn&&L&&p(!1),L&&!De.current&&ke(!1)},[L]);var Ue=An(),ie=ae(Ue,2),Ke=ie[0],mn=ie[1],pn=function(w){var fe=Ke(),he=w.which;if(he===E.ENTER&&(T!=="combobox"&&w.preventDefault(),l||M(!0)),mn(!!Oe),he===E.BACKSPACE&&!fe&&de&&!Oe&&s.length){for(var te=Ee(s),Ce=null,Pe=te.length-1;Pe>=0;Pe-=1){var Ze=te[Pe];if(!Ze.disabled){te.splice(Pe,1),Ce=Ze;break}}Ce&&C(te,{type:"remove",values:[Ce]})}for(var $e=arguments.length,Ye=new Array($e>1?$e-1:0),Be=1;Be<$e;Be++)Ye[Be-1]=arguments[Be];if(l&&we.current){var xn;(xn=we.current).onKeyDown.apply(xn,[w].concat(Ye))}ce==null||ce.apply(void 0,[w].concat(Ye))},In=function(w){for(var fe=arguments.length,he=new Array(fe>1?fe-1:0),te=1;te<fe;te++)he[te-1]=arguments[te];if(l&&we.current){var Ce;(Ce=we.current).onKeyUp.apply(Ce,[w].concat(he))}re==null||re.apply(void 0,[w].concat(he))},qe=function(w){var fe=s.filter(function(he){return he!==w});C(fe,{type:"remove",values:[w]})},xe=t.useRef(!1),Yn=function(){ke(!0),L||(D&&!xe.current&&D.apply(void 0,arguments),z.includes("focus")&&M(!0)),xe.current=!0},Jn=function(){De.current=!0,ke(!1,function(){xe.current=!1,De.current=!1,M(!1)}),!L&&(Oe&&(T==="tags"?V(Oe,{source:"submit"}):T==="multiple"&&V("",{source:"blur"})),U&&U.apply(void 0,arguments))},Xe=[];t.useEffect(function(){return function(){Xe.forEach(function(O){return clearTimeout(O)}),Xe.splice(0,Xe.length)}},[]);var Qn=function(w){var fe,he=w.target,te=(fe=Fe.current)===null||fe===void 0?void 0:fe.getPopupElement();if(te&&te.contains(he)){var Ce=setTimeout(function(){var Ye=Xe.indexOf(Ce);if(Ye!==-1&&Xe.splice(Ye,1),dn(),!be&&!te.contains(document.activeElement)){var Be;(Be=Ie.current)===null||Be===void 0||Be.focus()}});Xe.push(Ce)}for(var Pe=arguments.length,Ze=new Array(Pe>1?Pe-1:0),$e=1;$e<Pe;$e++)Ze[$e-1]=arguments[$e];pe==null||pe.apply(void 0,[w].concat(Ze))},qn=t.useState({}),Zn=ae(qn,2),et=Zn[1];function nt(){et({})}var En;Ne&&(En=function(w){M(w)}),Rt(function(){var O;return[je.current,(O=Fe.current)===null||O===void 0?void 0:O.getPopupElement()]},S,M,!!Ne);var tt=t.useMemo(function(){return J(J({},n),{},{notFoundContent:N,open:l,triggerOpen:S,id:i,showSearch:me,multiple:de,toggleOpen:M})},[n,N,S,l,i,me,de,M]),Rn=!!x||F,Dn;Rn&&(Dn=t.createElement(cn,{className:We("".concat(r,"-arrow"),oe({},"".concat(r,"-arrow-loading"),F)),customizeIcon:x,customizeIconProps:{loading:F,searchValue:Oe,open:l,focused:Qe,showSearch:me}}));var ot=function(){var w;Y==null||Y(),(w=Ie.current)===null||w===void 0||w.focus(),C([],{type:"clear",values:s}),Me("",!1,!1)},On=yt(r,ot,s,y,P,L,Oe,T),at=On.allowClear,rt=On.clearIcon,it=t.createElement(Re,{ref:we}),ut=We(r,c,(o={},oe(o,"".concat(r,"-focused"),Qe),oe(o,"".concat(r,"-multiple"),de),oe(o,"".concat(r,"-single"),!de),oe(o,"".concat(r,"-allow-clear"),y),oe(o,"".concat(r,"-show-arrow"),Rn),oe(o,"".concat(r,"-disabled"),L),oe(o,"".concat(r,"-loading"),F),oe(o,"".concat(r,"-open"),l),oe(o,"".concat(r,"-customize-input"),en),oe(o,"".concat(r,"-show-search"),me),o)),Mn=t.createElement(Bn,{ref:Fe,disabled:L,prefixCls:r,visible:S,popupElement:it,animation:ve,transitionName:le,dropdownStyle:Ve,dropdownClassName:k,direction:g,dropdownMatchSelectWidth:ye,dropdownRender:Le,dropdownAlign:I,placement:v,builtinPlacements:R,getPopupContainer:K,empty:u,getTriggerDOMNode:function(){return ge.current},onPopupVisibleChange:En,onPopupMouseEnter:nt},Ne?t.cloneElement(Ne,{ref:nn}):t.createElement($n,Ae({},n,{domRef:ge,prefixCls:r,inputElement:en,ref:Ie,id:i,showSearch:me,autoClearSearchValue:ee,mode:T,activeDescendantId:W,tagRender:f,values:s,open:l,onToggleOpen:M,activeValue:j,searchValue:Oe,onSearch:Me,onSearchSubmit:Te,onRemove:qe,tokenWithEnter:X}))),gn;return Ne?gn=Mn:gn=t.createElement("div",Ae({className:ut},q,{ref:je,onMouseDown:Qn,onKeyDown:pn,onKeyUp:In,onFocus:Yn,onBlur:Jn}),Qe&&!l&&t.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(s.map(function(O){var w=O.label,fe=O.value;return["number","string"].includes(ln(w))?w:fe}).join(", "))),Mn,Dn,at&&rt),t.createElement(Fn.Provider,{value:tt},gn)});const Ht=function(n,e){var a=t.useRef({values:new Map,options:new Map}),o=t.useMemo(function(){var r=a.current,c=r.values,d=r.options,f=n.map(function(s){if(s.label===void 0){var C;return J(J({},s),{},{label:(C=c.get(s.value))===null||C===void 0?void 0:C.label})}return s}),g=new Map,h=new Map;return f.forEach(function(s){g.set(s.value,s),h.set(s.value,e.get(s.value)||d.get(s.value))}),a.current.values=g,a.current.options=h,f},[n,e]),i=t.useCallback(function(r){return e.get(r)||a.current.options.get(r)},[e]);return[o,i]};function bn(n,e){return kn(n).join("").toUpperCase().includes(e)}const jt=function(n,e,a,o,i){return t.useMemo(function(){if(!a||o===!1)return n;var r=e.options,c=e.label,d=e.value,f=[],g=typeof o=="function",h=a.toUpperCase(),s=g?o:function(u,b){return i?bn(b[i],h):b[r]?bn(b[c!=="children"?c:"label"],h):bn(b[d],h)},C=g?function(u){return wn(u)}:function(u){return u};return n.forEach(function(u){if(u[r]){var b=s(a,C(u));if(b)f.push(u);else{var N=u[r].filter(function(Y){return s(a,C(Y))});N.length&&f.push(J(J({},u),{},oe({},r,N)))}return}s(a,C(u))&&f.push(u)}),f},[n,o,i,a,e])};var Vn=0,Gt=mt();function Xt(){var n;return Gt?(n=Vn,Vn+=1):n="TEST_OR_SSR",n}function Yt(n){var e=t.useState(),a=ae(e,2),o=a[0],i=a[1];return t.useEffect(function(){i("rc_select_".concat(Xt()))},[]),n||o}var Jt=["children","value"],Qt=["children"];function qt(n){var e=n,a=e.key,o=e.props,i=o.children,r=o.value,c=Je(o,Jt);return J({key:a,value:r!==void 0?r:a,children:i},c)}function zn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return pt(n).map(function(a,o){if(!t.isValidElement(a)||!a.type)return null;var i=a,r=i.type.isSelectOptGroup,c=i.key,d=i.props,f=d.children,g=Je(d,Qt);return e||!r?qt(a):J(J({key:"__RC_SELECT_GRP__".concat(c===null?o:c,"__"),label:c},g),{},{options:zn(f)})}).filter(function(a){return a})}function Zt(n,e,a,o,i){return t.useMemo(function(){var r=n,c=!n;c&&(r=zn(e));var d=new Map,f=new Map,g=function(C,u,b){b&&typeof b=="string"&&C.set(u[b],u)};function h(s){for(var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,u=0;u<s.length;u+=1){var b=s[u];!b[a.options]||C?(d.set(b[a.value],b),g(f,b,a.label),g(f,b,o),g(f,b,i)):h(b[a.options],!0)}}return h(r),{options:r,valueOptions:d,labelOptions:f}},[n,e,a,o,i])}function Ln(n){var e=t.useRef();e.current=n;var a=t.useCallback(function(){return e.current.apply(e,arguments)},[]);return a}var Un=function(){return null};Un.isSelectOptGroup=!0;var Hn=function(){return null};Hn.isSelectOption=!0;var jn=t.createContext(null);function eo(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var no=["disabled","title","children","style","className"];function _n(n){return typeof n=="string"||typeof n=="number"}var to=function(e,a){var o=It(),i=o.prefixCls,r=o.id,c=o.open,d=o.multiple,f=o.mode,g=o.searchValue,h=o.toggleOpen,s=o.notFoundContent,C=o.onPopupScroll,u=t.useContext(jn),b=u.flattenOptions,N=u.onActiveValue,Y=u.defaultActiveFirstOption,T=u.onSelect,L=u.menuItemSelectedIcon,F=u.rawValues,Z=u.fieldNames,H=u.virtual,G=u.direction,ue=u.listHeight,$=u.listItemHeight,j="".concat(i,"-item"),B=gt(function(){return b},[c,b],function(I,v){return v[0]&&I[1]!==v[1]}),W=t.useRef(null),Q=function(v){v.preventDefault()},ee=function(v){W.current&&W.current.scrollTo(typeof v=="number"?{index:v}:v)},V=function(v){for(var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,K=B.length,A=0;A<K;A+=1){var z=(v+A*R+K)%K,D=B[z],U=D.group,re=D.data;if(!U&&!re.disabled)return z}return-1},ne=t.useState(function(){return V(0)}),_=ae(ne,2),y=_[0],x=_[1],P=function(v){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;x(v);var K={source:R?"keyboard":"mouse"},A=B[v];if(!A){N(null,-1,K);return}N(A.value,v,K)};t.useEffect(function(){P(Y!==!1?V(0):-1)},[B.length,g]);var Re=t.useCallback(function(I){return F.has(I)&&f!=="combobox"},[f,Ee(F).toString(),F.size]);t.useEffect(function(){var I=setTimeout(function(){if(!d&&c&&F.size===1){var R=Array.from(F)[0],K=B.findIndex(function(A){var z=A.data;return z.value===R});K!==-1&&(P(K),ee(K))}});if(c){var v;(v=W.current)===null||v===void 0||v.scrollTo(void 0)}return function(){return clearTimeout(I)}},[c,g]);var ve=function(v){v!==void 0&&T(v,{selected:!F.has(v)}),d||h(!1)};if(t.useImperativeHandle(a,function(){return{onKeyDown:function(v){var R=v.which,K=v.ctrlKey;switch(R){case E.N:case E.P:case E.UP:case E.DOWN:{var A=0;if(R===E.UP?A=-1:R===E.DOWN?A=1:eo()&&K&&(R===E.N?A=1:R===E.P&&(A=-1)),A!==0){var z=V(y+A,A);ee(z),P(z,!0)}break}case E.ENTER:{var D=B[y];D&&!D.data.disabled?ve(D.value):ve(void 0),c&&v.preventDefault();break}case E.ESC:h(!1),c&&v.stopPropagation()}},onKeyUp:function(){},scrollTo:function(v){ee(v)}}}),B.length===0)return t.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(j,"-empty"),onMouseDown:Q},s);var le=Object.keys(Z).map(function(I){return Z[I]}),Ve=function(v){return v.label};function k(I,v){var R=I.group;return{role:R?"presentation":"option",id:"".concat(r,"_list_").concat(v)}}var ye=function(v){var R=B[v];if(!R)return null;var K=R.data||{},A=K.value,z=R.group,D=un(K,!0),U=Ve(R);return R?t.createElement("div",Ae({"aria-label":typeof U=="string"&&!z?U:null},D,{key:v},k(R,v),{"aria-selected":Re(A)}),A):null},Le={role:"listbox",id:"".concat(r,"_list")};return t.createElement(t.Fragment,null,H&&t.createElement("div",Ae({},Le,{style:{height:0,width:0,overflow:"hidden"}}),ye(y-1),ye(y),ye(y+1)),t.createElement(Ct,{itemKey:"key",ref:W,data:B,height:ue,itemHeight:$,fullHeight:!1,onMouseDown:Q,onScroll:C,virtual:H,direction:G,innerProps:H?null:Le},function(I,v){var R,K=I.group,A=I.groupOption,z=I.data,D=I.label,U=I.value,re=z.key;if(K){var ce,pe=(ce=z.title)!==null&&ce!==void 0?ce:_n(D)?D.toString():void 0;return t.createElement("div",{className:We(j,"".concat(j,"-group")),title:pe},D!==void 0?D:re)}var se=z.disabled,de=z.title;z.children;var me=z.style,q=z.className,_e=Je(z,no),He=ht(_e,le),be=Re(U),Se="".concat(j,"-option"),je=We(j,Se,q,(R={},oe(R,"".concat(Se,"-grouped"),A),oe(R,"".concat(Se,"-active"),y===v&&!se),oe(R,"".concat(Se,"-disabled"),se),oe(R,"".concat(Se,"-selected"),be),R)),ge=Ve(I),Fe=!L||typeof L=="function"||be,Ie=typeof ge=="number"?ge:ge||U,we=_n(Ie)?Ie.toString():void 0;return de!==void 0&&(we=de),t.createElement("div",Ae({},un(He),H?{}:k(I,v),{"aria-selected":be,className:je,title:we,onMouseMove:function(){y===v||se||P(v)},onClick:function(){se||ve(U)},style:me}),t.createElement("div",{className:"".concat(Se,"-content")},Ie),t.isValidElement(L)||be,Fe&&t.createElement(cn,{className:"".concat(j,"-option-state"),customizeIcon:L,customizeIconProps:{value:U,disabled:se,isSelected:be}},be?"✓":null))}))},Gn=t.forwardRef(to);Gn.displayName="OptionList";var oo=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],ao=["inputValue"];function ro(n){return!n||ln(n)!=="object"}var io=t.forwardRef(function(n,e){var a=n.id,o=n.mode,i=n.prefixCls,r=i===void 0?"rc-select":i,c=n.backfill,d=n.fieldNames,f=n.inputValue,g=n.searchValue,h=n.onSearch,s=n.autoClearSearchValue,C=s===void 0?!0:s,u=n.onSelect,b=n.onDeselect,N=n.dropdownMatchSelectWidth,Y=N===void 0?!0:N,T=n.filterOption,L=n.filterSort,F=n.optionFilterProp,Z=n.optionLabelProp,H=n.options,G=n.children,ue=n.defaultActiveFirstOption,$=n.menuItemSelectedIcon,j=n.virtual,B=n.direction,W=n.listHeight,Q=W===void 0?200:W,ee=n.listItemHeight,V=ee===void 0?20:ee,ne=n.value,_=n.defaultValue,y=n.labelInValue,x=n.onChange,P=Je(n,oo),Re=Yt(a),ve=Cn(o),le=!!(!H&&G),Ve=t.useMemo(function(){return T===void 0&&o==="combobox"?!1:T},[T,o]),k=t.useMemo(function(){return Wn(d,le)},[JSON.stringify(d),le]),ye=Sn("",{value:g!==void 0?g:f,postState:function(l){return l||""}}),Le=ae(ye,2),I=Le[0],v=Le[1],R=Zt(H,G,k,F,Z),K=R.valueOptions,A=R.labelOptions,z=R.options,D=t.useCallback(function(p){var l=kn(p);return l.map(function(m){var S,M,X,Me,Te;if(ro(m))S=m;else{var Ue;X=m.key,M=m.label,S=(Ue=m.value)!==null&&Ue!==void 0?Ue:X}var ie=K.get(S);if(ie){var Ke;M===void 0&&(M=ie==null?void 0:ie[Z||k.label]),X===void 0&&(X=(Ke=ie==null?void 0:ie.key)!==null&&Ke!==void 0?Ke:S),Me=ie==null?void 0:ie.disabled,Te=ie==null?void 0:ie.title}return{label:M,value:S,key:X,disabled:Me,title:Te}})},[k,Z,K]),U=Sn(_,{value:ne}),re=ae(U,2),ce=re[0],pe=re[1],se=t.useMemo(function(){var p,l=D(ce);return o==="combobox"&&Pt((p=l[0])===null||p===void 0?void 0:p.value)?[]:l},[ce,D,o]),de=Ht(se,K),me=ae(de,2),q=me[0],_e=me[1],He=t.useMemo(function(){if(!o&&q.length===1){var p=q[0];if(p.value===null&&(p.label===null||p.label===void 0))return[]}return q.map(function(l){var m;return J(J({},l),{},{label:(m=l.label)!==null&&m!==void 0?m:l.value})})},[o,q]),be=t.useMemo(function(){return new Set(q.map(function(p){return p.value}))},[q]);t.useEffect(function(){if(o==="combobox"){var p,l=(p=q[0])===null||p===void 0?void 0:p.value;v(xt(l)?String(l):"")}},[q]);var Se=Ln(function(p,l){var m,S=l??p;return m={},oe(m,k.value,p),oe(m,k.label,S),m}),je=t.useMemo(function(){if(o!=="tags")return z;var p=Ee(z),l=function(S){return K.has(S)};return Ee(q).sort(function(m,S){return m.value<S.value?-1:1}).forEach(function(m){var S=m.value;l(S)||p.push(Se(S,m.label))}),p},[Se,z,K,q,o]),ge=jt(je,k,I,Ve,F),Fe=t.useMemo(function(){return o!=="tags"||!I||ge.some(function(p){return p[F||"value"]===I})||ge.some(function(p){return p[k.value]===I})?ge:[Se(I)].concat(Ee(ge))},[Se,F,o,ge,I,k]),Ie=t.useMemo(function(){return L?Ee(Fe).sort(function(p,l){return L(p,l)}):Fe},[Fe,L]),we=t.useMemo(function(){return $t(Ie,{fieldNames:k,childrenAsData:le})},[Ie,k,le]),De=function(l){var m=D(l);if(pe(m),x&&(m.length!==q.length||m.some(function(X,Me){var Te;return((Te=q[Me])===null||Te===void 0?void 0:Te.value)!==(X==null?void 0:X.value)}))){var S=y?m:m.map(function(X){return X.value}),M=m.map(function(X){return wn(_e(X.value))});x(ve?S:S[0],ve?M:M[0])}},sn=t.useState(null),Ge=ae(sn,2),Qe=Ge[0],ke=Ge[1],dn=t.useState(0),Oe=ae(dn,2),en=Oe[0],Ne=Oe[1],nn=ue!==void 0?ue:o!=="combobox",tn=t.useCallback(function(p,l){var m=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},S=m.source,M=S===void 0?"keyboard":S;Ne(l),c&&o==="combobox"&&p!==null&&M==="keyboard"&&ke(String(p))},[c,o]),ze=function(l,m,S){var M=function(){var qe,xe=_e(l);return[y?{label:xe==null?void 0:xe[k.label],value:l,key:(qe=xe==null?void 0:xe.key)!==null&&qe!==void 0?qe:l}:l,wn(xe)]};if(m&&u){var X=M(),Me=ae(X,2),Te=Me[0],Ue=Me[1];u(Te,Ue)}else if(!m&&b&&S!=="clear"){var ie=M(),Ke=ae(ie,2),mn=Ke[0],pn=Ke[1];b(mn,pn)}},on=Ln(function(p,l){var m,S=ve?l.selected:!0;S?m=ve?[].concat(Ee(q),[p]):[p]:m=q.filter(function(M){return M.value!==p}),De(m),ze(p,S),o==="combobox"?ke(""):(!Cn||C)&&(v(""),ke(""))}),fn=function(l,m){De(l);var S=m.type,M=m.values;(S==="remove"||S==="clear")&&M.forEach(function(X){ze(X.value,!1,S)})},vn=function(l,m){if(v(l),ke(null),m.source==="submit"){var S=(l||"").trim();if(S){var M=Array.from(new Set([].concat(Ee(be),[S])));De(M),ze(S,!0),v("")}return}m.source!=="blur"&&(o==="combobox"&&De(l),h==null||h(l))},an=function(l){var m=l;o!=="tags"&&(m=l.map(function(M){var X=A.get(M);return X==null?void 0:X.value}).filter(function(M){return M!==void 0}));var S=Array.from(new Set([].concat(Ee(be),Ee(m))));De(S),S.forEach(function(M){ze(M,!0)})},rn=t.useMemo(function(){var p=j!==!1&&Y!==!1;return J(J({},R),{},{flattenOptions:we,onActiveValue:tn,defaultActiveFirstOption:nn,onSelect:on,menuItemSelectedIcon:$,rawValues:be,fieldNames:k,virtual:p,direction:B,listHeight:Q,listItemHeight:V,childrenAsData:le})},[R,we,tn,nn,on,$,be,k,j,Y,Q,V,le]);return t.createElement(jn.Provider,{value:rn},t.createElement(Ut,Ae({},P,{id:Re,prefixCls:r,ref:e,omitDomProps:ao,mode:o,displayValues:He,onDisplayValuesChange:fn,direction:B,searchValue:I,onSearch:vn,autoClearSearchValue:C,onSearchSplit:an,dropdownMatchSelectWidth:Y,OptionList:Gn,emptyOptions:!we.length,activeValue:Qe,activeDescendantId:"".concat(Re,"_list_").concat(en)})))}),Xn=io;Xn.Option=Hn;Xn.OptGroup=Un;export{Hn as O,Xn as T,Un as a};
