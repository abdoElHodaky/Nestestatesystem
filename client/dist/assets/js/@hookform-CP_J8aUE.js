import{g as v,s as l,a as m}from"./react-hook-form-BTBctIEl.js";var y=function(r,e,t){if(r&&"reportValidity"in r){var n=v(t,e);r.setCustomValidity(n&&n.message||""),r.reportValidity()}},h=function(r,e){var t=function(f){var a=e.fields[f];a&&a.ref&&"reportValidity"in a.ref?y(a.ref,f,r):a.refs&&a.refs.forEach(function(i){return y(i,f,r)})};for(var n in e.fields)t(n)},g=function(r,e){e.shouldUseNativeValidation&&h(r,e);var t={};for(var n in r){var f=v(e.fields,n),a=Object.assign(r[n]||{},{ref:f&&f.ref});if(b(e.names||Object.keys(r),n)){var i=Object.assign({},V(v(t,n)));l(i,"root",a),l(t,n,i)}else l(t,n,a)}return t},V=function(r){return Array.isArray(r)?r.filter(Boolean):[]},b=function(r,e){return r.some(function(t){return t.startsWith(e+".")})};function O(r,e,t){return e===void 0&&(e={}),t===void 0&&(t={}),function(n,f,a){try{return Promise.resolve(function(i,c){try{var u=(e.context,Promise.resolve(r[t.mode==="sync"?"validateSync":"validate"](n,Object.assign({abortEarly:!1},e,{context:f}))).then(function(s){return a.shouldUseNativeValidation&&h({},a),{values:t.raw?n:s,errors:{}}}))}catch(s){return c(s)}return u&&u.then?u.then(void 0,c):u}(0,function(i){if(!i.inner)throw i;return{values:{},errors:g((c=i,u=!a.shouldUseNativeValidation&&a.criteriaMode==="all",(c.inner||[]).reduce(function(s,o){if(s[o.path]||(s[o.path]={message:o.message,type:o.type}),u){var d=s[o.path].types,p=d&&d[o.type];s[o.path]=m(o.path,u,s,o.type,p?[].concat(p,o.message):o.message)}return s},{})),a)};var c,u}))}catch(i){return Promise.reject(i)}}}export{O as o};
