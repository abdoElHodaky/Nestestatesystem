import{c as cr}from"./classnames-Pu3rYkp-.js";import{r as s}from"./react-DSroWhVQ.js";import{c as Xr,u as X,d as dn,a as mn,r as _t,s as Yr,e as pt,f as hn,h as gn,i as Ve,j as xt,k as yn,g as Pt,l as bn,m as Sn,n as wn}from"./rc-util-DczjbXZF.js";import{h as en,i as rn,a as Fr,_ as qr,k as Rt,e as D,d as Pe,c as T,f as Te,b as G,j as $t,l as Nn,g as Er}from"./@babel-CFUu5hEi.js";import{F as tn}from"./@ant-design-D0dvLJ_u.js";import{r as nn}from"./react-dom-CkgdwS5A.js";import{R as an}from"./rc-resize-observer-BQZCHvnQ.js";import{C as on}from"./rc-motion-D_-c7Kbs.js";var Cn=["b"],En=["v"],Et=function(e){return Math.round(Number(e||0))},Mn=function(e){if(e instanceof tn)return e;if(e&&Pe(e)==="object"&&"h"in e&&"b"in e){var r=e,n=r.b,a=Rt(r,Cn);return D(D({},a),{},{v:n})}return typeof e=="string"&&/hsb/.test(e)?e.replace(/hsb/,"hsv"):e},Lt=function(t){en(r,t);var e=rn(r);function r(n){return Fr(this,r),e.call(this,Mn(n))}return qr(r,[{key:"toHsbString",value:function(){var a=this.toHsb(),i=Et(a.s*100),o=Et(a.b*100),u=Et(a.h),v=a.a,d="hsb(".concat(u,", ").concat(i,"%, ").concat(o,"%)"),m="hsba(".concat(u,", ").concat(i,"%, ").concat(o,"%, ").concat(v.toFixed(v===0?0:2),")");return v===1?d:m}},{key:"toHsb",value:function(){var a=this.toHsv(),i=a.v,o=Rt(a,En);return D(D({},o),{},{b:i,a:this.a})}}]),r}(tn),xn=function(e){return e instanceof Lt?e:new Lt(e)};xn("#1677ff");var un=s.createContext(null),Ht=[];function Pn(t,e){var r=s.useState(function(){if(!Xr())return null;var f=document.createElement("div");return f}),n=T(r,1),a=n[0],i=s.useRef(!1),o=s.useContext(un),u=s.useState(Ht),v=T(u,2),d=v[0],m=v[1],l=o||(i.current?void 0:function(f){m(function(N){var c=[f].concat(Te(N));return c})});function S(){a.parentElement||document.body.appendChild(a),i.current=!0}function g(){var f;(f=a.parentElement)===null||f===void 0||f.removeChild(a),i.current=!1}return X(function(){return t?o?o(S):S():g(),g},[t]),X(function(){d.length&&(d.forEach(function(f){return f()}),m(Ht))},[d]),[a,l]}function Fn(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)&&window.innerWidth>document.body.offsetWidth}var qn="rc-util-locker-".concat(Date.now()),Vt=0;function Dn(t){var e=!!t,r=s.useState(function(){return Vt+=1,"".concat(qn,"_").concat(Vt)}),n=T(r,1),a=n[0];X(function(){if(e){var i=dn(document.body).width,o=Fn();mn(`
html body {
  overflow-y: hidden;
  `.concat(o?"width: calc(100% - ".concat(i,"px);"):"",`
}`),a)}else _t(a);return function(){_t(a)}},[e,a])}var kn=!1;function An(t){return kn}var Wt=function(e){return e===!1?!1:!Xr()||!e?null:typeof e=="string"?document.querySelector(e):typeof e=="function"?e():e},sn=s.forwardRef(function(t,e){var r=t.open,n=t.autoLock,a=t.getContainer;t.debug;var i=t.autoDestroy,o=i===void 0?!0:i,u=t.children,v=s.useState(r),d=T(v,2),m=d[0],l=d[1],S=m||r;s.useEffect(function(){(o||r)&&l(r)},[r,o]);var g=s.useState(function(){return Wt(a)}),f=T(g,2),N=f[0],c=f[1];s.useEffect(function(){var Y=Wt(a);c(Y??null)});var x=Pn(S&&!N),w=T(x,2),C=w[0],P=w[1],M=N??C;Dn(n&&r&&Xr()&&(M===C||M===document.body));var y=null;if(u&&Yr(u)&&e){var I=u;y=I.ref}var B=pt(y,e);if(!S||!Xr()||N===void 0)return null;var L=M===!1||An(),z=u;return e&&(z=s.cloneElement(u,{ref:B})),s.createElement(un.Provider,{value:P},L?z:nn.createPortal(z,M))});function Ft(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var qt=Ft();var Rn=/%[sdj%]/g,Tn=function(){};function Dt(t){if(!t||!t.length)return null;var e={};return t.forEach(function(r){var n=r.field;e[n]=e[n]||[],e[n].push(r)}),e}function ue(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];var a=0,i=r.length;if(typeof t=="function")return t.apply(null,r);if(typeof t=="string"){var o=t.replace(Rn,function(u){if(u==="%%")return"%";if(a>=i)return u;switch(u){case"%s":return String(r[a++]);case"%d":return Number(r[a++]);case"%j":try{return JSON.stringify(r[a++])}catch{return"[Circular]"}break;default:return u}});return o}return t}function In(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function j(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||In(e)&&typeof t=="string"&&!t)}function _n(t,e,r){var n=[],a=0,i=t.length;function o(u){n.push.apply(n,Te(u||[])),a++,a===i&&r(n)}t.forEach(function(u){e(u,o)})}function jt(t,e,r){var n=0,a=t.length;function i(o){if(o&&o.length){r(o);return}var u=n;n=n+1,u<a?e(t[u],i):r([])}i([])}function $n(t){var e=[];return Object.keys(t).forEach(function(r){e.push.apply(e,Te(t[r]||[]))}),e}var Bt=function(t){en(r,t);var e=rn(r);function r(n,a){var i;return Fr(this,r),i=e.call(this,"Async Validation Error"),G($t(i),"errors",void 0),G($t(i),"fields",void 0),i.errors=n,i.fields=a,i}return qr(r)}(Nn(Error));function Ln(t,e,r,n,a){if(e.first){var i=new Promise(function(S,g){var f=function(x){return n(x),x.length?g(new Bt(x,Dt(x))):S(a)},N=$n(t);jt(N,r,f)});return i.catch(function(S){return S}),i}var o=e.firstFields===!0?Object.keys(t):e.firstFields||[],u=Object.keys(t),v=u.length,d=0,m=[],l=new Promise(function(S,g){var f=function(c){if(m.push.apply(m,c),d++,d===v)return n(m),m.length?g(new Bt(m,Dt(m))):S(a)};u.length||(n(m),S(a)),u.forEach(function(N){var c=t[N];o.indexOf(N)!==-1?jt(c,r,f):_n(c,r,f)})});return l.catch(function(S){return S}),l}function Hn(t){return!!(t&&t.message!==void 0)}function Vn(t,e){for(var r=t,n=0;n<e.length;n++){if(r==null)return r;r=r[e[n]]}return r}function zt(t,e){return function(r){var n;return t.fullFields?n=Vn(e,t.fullFields):n=e[r.field||t.fullField],Hn(r)?(r.field=r.field||t.fullField,r.fieldValue=n,r):{message:typeof r=="function"?r():r,fieldValue:n,field:r.field||t.fullField}}}function Gt(t,e){if(e){for(var r in e)if(e.hasOwnProperty(r)){var n=e[r];Pe(n)==="object"&&Pe(t[r])==="object"?t[r]=D(D({},t[r]),n):t[r]=n}}return t}var sr="enum",Wn=function(e,r,n,a,i){e[sr]=Array.isArray(e[sr])?e[sr]:[],e[sr].indexOf(r)===-1&&a.push(ue(i.messages[sr],e.fullField,e[sr].join(", ")))},jn=function(e,r,n,a,i){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(r)||a.push(ue(i.messages.pattern.mismatch,e.fullField,r,e.pattern));else if(typeof e.pattern=="string"){var o=new RegExp(e.pattern);o.test(r)||a.push(ue(i.messages.pattern.mismatch,e.fullField,r,e.pattern))}}},Bn=function(e,r,n,a,i){var o=typeof e.len=="number",u=typeof e.min=="number",v=typeof e.max=="number",d=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,m=r,l=null,S=typeof r=="number",g=typeof r=="string",f=Array.isArray(r);if(S?l="number":g?l="string":f&&(l="array"),!l)return!1;f&&(m=r.length),g&&(m=r.replace(d,"_").length),o?m!==e.len&&a.push(ue(i.messages[l].len,e.fullField,e.len)):u&&!v&&m<e.min?a.push(ue(i.messages[l].min,e.fullField,e.min)):v&&!u&&m>e.max?a.push(ue(i.messages[l].max,e.fullField,e.max)):u&&v&&(m<e.min||m>e.max)&&a.push(ue(i.messages[l].range,e.fullField,e.min,e.max))},fn=function(e,r,n,a,i,o){e.required&&(!n.hasOwnProperty(e.field)||j(r,o||e.type))&&a.push(ue(i.messages.required,e.fullField))},Or;const zn=function(){if(Or)return Or;var t="[a-fA-F\\d:]",e=function(y){return y&&y.includeBoundaries?"(?:(?<=\\s|^)(?=".concat(t,")|(?<=").concat(t,")(?=\\s|$))"):""},r="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",n="[a-fA-F\\d]{1,4}",a=["(?:".concat(n,":){7}(?:").concat(n,"|:)"),"(?:".concat(n,":){6}(?:").concat(r,"|:").concat(n,"|:)"),"(?:".concat(n,":){5}(?::").concat(r,"|(?::").concat(n,"){1,2}|:)"),"(?:".concat(n,":){4}(?:(?::").concat(n,"){0,1}:").concat(r,"|(?::").concat(n,"){1,3}|:)"),"(?:".concat(n,":){3}(?:(?::").concat(n,"){0,2}:").concat(r,"|(?::").concat(n,"){1,4}|:)"),"(?:".concat(n,":){2}(?:(?::").concat(n,"){0,3}:").concat(r,"|(?::").concat(n,"){1,5}|:)"),"(?:".concat(n,":){1}(?:(?::").concat(n,"){0,4}:").concat(r,"|(?::").concat(n,"){1,6}|:)"),"(?::(?:(?::".concat(n,"){0,5}:").concat(r,"|(?::").concat(n,"){1,7}|:))")],i="(?:%[0-9a-zA-Z]{1,})?",o="(?:".concat(a.join("|"),")").concat(i),u=new RegExp("(?:^".concat(r,"$)|(?:^").concat(o,"$)")),v=new RegExp("^".concat(r,"$")),d=new RegExp("^".concat(o,"$")),m=function(y){return y&&y.exact?u:new RegExp("(?:".concat(e(y)).concat(r).concat(e(y),")|(?:").concat(e(y)).concat(o).concat(e(y),")"),"g")};m.v4=function(M){return M&&M.exact?v:new RegExp("".concat(e(M)).concat(r).concat(e(M)),"g")},m.v6=function(M){return M&&M.exact?d:new RegExp("".concat(e(M)).concat(o).concat(e(M)),"g")};var l="(?:(?:[a-z]+:)?//)",S="(?:\\S+(?::\\S*)?@)?",g=m.v4().source,f=m.v6().source,N="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",c="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",x="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",w="(?::\\d{2,5})?",C='(?:[/?#][^\\s"]*)?',P="(?:".concat(l,"|www\\.)").concat(S,"(?:localhost|").concat(g,"|").concat(f,"|").concat(N).concat(c).concat(x,")").concat(w).concat(C);return Or=new RegExp("(?:^".concat(P,"$)"),"i"),Or};var Ut={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Nr={integer:function(e){return Nr.number(e)&&parseInt(e,10)===e},float:function(e){return Nr.number(e)&&!Nr.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return Pe(e)==="object"&&!Nr.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(Ut.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(zn())},hex:function(e){return typeof e=="string"&&!!e.match(Ut.hex)}},Gn=function(e,r,n,a,i){if(e.required&&r===void 0){fn(e,r,n,a,i);return}var o=["integer","float","array","regexp","object","method","email","number","date","url","hex"],u=e.type;o.indexOf(u)>-1?Nr[u](r)||a.push(ue(i.messages.types[u],e.fullField,e.type)):u&&Pe(r)!==e.type&&a.push(ue(i.messages.types[u],e.fullField,e.type))},Un=function(e,r,n,a,i){(/^\s+$/.test(r)||r==="")&&a.push(ue(i.messages.whitespace,e.fullField))};const E={required:fn,whitespace:Un,type:Gn,range:Bn,enum:Wn,pattern:jn};var Jn=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r)&&!e.required)return n();E.required(e,r,a,o,i)}n(o)},Qn=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(r==null&&!e.required)return n();E.required(e,r,a,o,i,"array"),r!=null&&(E.type(e,r,a,o,i),E.range(e,r,a,o,i))}n(o)},Zn=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r)&&!e.required)return n();E.required(e,r,a,o,i),r!==void 0&&E.type(e,r,a,o,i)}n(o)},Kn=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r,"date")&&!e.required)return n();if(E.required(e,r,a,o,i),!j(r,"date")){var v;r instanceof Date?v=r:v=new Date(r),E.type(e,v,a,o,i),v&&E.range(e,v.getTime(),a,o,i)}}n(o)},On="enum",Xn=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r)&&!e.required)return n();E.required(e,r,a,o,i),r!==void 0&&E[On](e,r,a,o,i)}n(o)},Yn=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r)&&!e.required)return n();E.required(e,r,a,o,i),r!==void 0&&(E.type(e,r,a,o,i),E.range(e,r,a,o,i))}n(o)},pn=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r)&&!e.required)return n();E.required(e,r,a,o,i),r!==void 0&&(E.type(e,r,a,o,i),E.range(e,r,a,o,i))}n(o)},ea=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r)&&!e.required)return n();E.required(e,r,a,o,i),r!==void 0&&E.type(e,r,a,o,i)}n(o)},ra=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(r===""&&(r=void 0),j(r)&&!e.required)return n();E.required(e,r,a,o,i),r!==void 0&&(E.type(e,r,a,o,i),E.range(e,r,a,o,i))}n(o)},ta=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r)&&!e.required)return n();E.required(e,r,a,o,i),r!==void 0&&E.type(e,r,a,o,i)}n(o)},na=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r,"string")&&!e.required)return n();E.required(e,r,a,o,i),j(r,"string")||E.pattern(e,r,a,o,i)}n(o)},aa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r)&&!e.required)return n();E.required(e,r,a,o,i),j(r)||E.type(e,r,a,o,i)}n(o)},ia=function(e,r,n,a,i){var o=[],u=Array.isArray(r)?"array":Pe(r);E.required(e,r,a,o,i,u),n(o)},oa=function(e,r,n,a,i){var o=[],u=e.required||!e.required&&a.hasOwnProperty(e.field);if(u){if(j(r,"string")&&!e.required)return n();E.required(e,r,a,o,i,"string"),j(r,"string")||(E.type(e,r,a,o,i),E.range(e,r,a,o,i),E.pattern(e,r,a,o,i),e.whitespace===!0&&E.whitespace(e,r,a,o,i))}n(o)},Mt=function(e,r,n,a,i){var o=e.type,u=[],v=e.required||!e.required&&a.hasOwnProperty(e.field);if(v){if(j(r,o)&&!e.required)return n();E.required(e,r,a,u,i,o),j(r,o)||E.type(e,r,a,u,i)}n(u)};const Mr={string:oa,method:ea,number:ra,boolean:Zn,regexp:aa,integer:pn,float:Yn,array:Qn,object:ta,enum:Xn,pattern:na,date:Kn,url:Mt,hex:Mt,email:Mt,required:ia,any:Jn};var pr=function(){function t(e){Fr(this,t),G(this,"rules",null),G(this,"_messages",qt),this.define(e)}return qr(t,[{key:"define",value:function(r){var n=this;if(!r)throw new Error("Cannot configure a schema with no rules");if(Pe(r)!=="object"||Array.isArray(r))throw new Error("Rules must be an object");this.rules={},Object.keys(r).forEach(function(a){var i=r[a];n.rules[a]=Array.isArray(i)?i:[i]})}},{key:"messages",value:function(r){return r&&(this._messages=Gt(Ft(),r)),this._messages}},{key:"validate",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){},o=r,u=a,v=i;if(typeof u=="function"&&(v=u,u={}),!this.rules||Object.keys(this.rules).length===0)return v&&v(null,o),Promise.resolve(o);function d(f){var N=[],c={};function x(C){if(Array.isArray(C)){var P;N=(P=N).concat.apply(P,Te(C))}else N.push(C)}for(var w=0;w<f.length;w++)x(f[w]);N.length?(c=Dt(N),v(N,c)):v(null,o)}if(u.messages){var m=this.messages();m===qt&&(m=Ft()),Gt(m,u.messages),u.messages=m}else u.messages=this.messages();var l={},S=u.keys||Object.keys(this.rules);S.forEach(function(f){var N=n.rules[f],c=o[f];N.forEach(function(x){var w=x;typeof w.transform=="function"&&(o===r&&(o=D({},o)),c=o[f]=w.transform(c),c!=null&&(w.type=w.type||(Array.isArray(c)?"array":Pe(c)))),typeof w=="function"?w={validator:w}:w=D({},w),w.validator=n.getValidationMethod(w),w.validator&&(w.field=f,w.fullField=w.fullField||f,w.type=n.getType(w),l[f]=l[f]||[],l[f].push({rule:w,value:c,source:o,field:f}))})});var g={};return Ln(l,u,function(f,N){var c=f.rule,x=(c.type==="object"||c.type==="array")&&(Pe(c.fields)==="object"||Pe(c.defaultField)==="object");x=x&&(c.required||!c.required&&f.value),c.field=f.field;function w(I,B){return D(D({},B),{},{fullField:"".concat(c.fullField,".").concat(I),fullFields:c.fullFields?[].concat(Te(c.fullFields),[I]):[I]})}function C(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],B=Array.isArray(I)?I:[I];!u.suppressWarning&&B.length&&t.warning("async-validator:",B),B.length&&c.message!==void 0&&(B=[].concat(c.message));var L=B.map(zt(c,o));if(u.first&&L.length)return g[c.field]=1,N(L);if(!x)N(L);else{if(c.required&&!f.value)return c.message!==void 0?L=[].concat(c.message).map(zt(c,o)):u.error&&(L=[u.error(c,ue(u.messages.required,c.field))]),N(L);var z={};c.defaultField&&Object.keys(f.value).map(function(W){z[W]=c.defaultField}),z=D(D({},z),f.rule.fields);var Y={};Object.keys(z).forEach(function(W){var H=z[W],me=Array.isArray(H)?H:[H];Y[W]=me.map(w.bind(null,W))});var se=new t(Y);se.messages(u.messages),f.rule.options&&(f.rule.options.messages=u.messages,f.rule.options.error=u.error),se.validate(f.value,f.rule.options||u,function(W){var H=[];L&&L.length&&H.push.apply(H,Te(L)),W&&W.length&&H.push.apply(H,Te(W)),N(H.length?H:null)})}}var P;if(c.asyncValidator)P=c.asyncValidator(c,f.value,C,f.source,u);else if(c.validator){try{P=c.validator(c,f.value,C,f.source,u)}catch(I){var M,y;(M=(y=console).error)===null||M===void 0||M.call(y,I),u.suppressValidatorError||setTimeout(function(){throw I},0),C(I.message)}P===!0?C():P===!1?C(typeof c.message=="function"?c.message(c.fullField||c.field):c.message||"".concat(c.fullField||c.field," fails")):P instanceof Array?C(P):P instanceof Error&&C(P.message)}P&&P.then&&P.then(function(){return C()},function(I){return C(I)})},function(f){d(f)},o)}},{key:"getType",value:function(r){if(r.type===void 0&&r.pattern instanceof RegExp&&(r.type="pattern"),typeof r.validator!="function"&&r.type&&!Mr.hasOwnProperty(r.type))throw new Error(ue("Unknown rule type %s",r.type));return r.type||"string"}},{key:"getValidationMethod",value:function(r){if(typeof r.validator=="function")return r.validator;var n=Object.keys(r),a=n.indexOf("message");return a!==-1&&n.splice(a,1),n.length===1&&n[0]==="required"?Mr.required:Mr[this.getType(r)]||void 0}}]),t}();G(pr,"register",function(e,r){if(typeof r!="function")throw new Error("Cannot register a validator by type, validator is not a function");Mr[e]=r});G(pr,"warning",Tn);G(pr,"messages",qt);G(pr,"validators",Mr);function ua(t){var e=t.prefixCls,r=t.align,n=t.arrow,a=t.arrowPos,i=n||{},o=i.className,u=i.content,v=a.x,d=v===void 0?0:v,m=a.y,l=m===void 0?0:m,S=s.useRef();if(!r||!r.points)return null;var g={position:"absolute"};if(r.autoArrow!==!1){var f=r.points[0],N=r.points[1],c=f[0],x=f[1],w=N[0],C=N[1];c===w||!["t","b"].includes(c)?g.top=l:c==="t"?g.top=0:g.bottom=0,x===C||!["l","r"].includes(x)?g.left=d:x==="l"?g.left=0:g.right=0}return s.createElement("div",{ref:S,className:cr("".concat(e,"-arrow"),o),style:g},u)}function sa(t){var e=t.prefixCls,r=t.open,n=t.zIndex,a=t.mask,i=t.motion;return a?s.createElement(on,Er({},i,{motionAppear:!0,visible:r,removeOnLeave:!0}),function(o){var u=o.className;return s.createElement("div",{style:{zIndex:n},className:cr("".concat(e,"-mask"),u)})}):null}var fa=s.memo(function(t){var e=t.children;return e},function(t,e){return e.cache}),ca=s.forwardRef(function(t,e){var r=t.popup,n=t.className,a=t.prefixCls,i=t.style,o=t.target,u=t.onVisibleChanged,v=t.open,d=t.keepDom,m=t.fresh,l=t.onClick,S=t.mask,g=t.arrow,f=t.arrowPos,N=t.align,c=t.motion,x=t.maskMotion,w=t.forceRender,C=t.getPopupContainer,P=t.autoDestroy,M=t.portal,y=t.zIndex,I=t.onMouseEnter,B=t.onMouseLeave,L=t.onPointerEnter,z=t.ready,Y=t.offsetX,se=t.offsetY,W=t.offsetR,H=t.offsetB,me=t.onAlign,p=t.onPrepare,fe=t.stretch,Q=t.targetWidth,Z=t.targetHeight,F=typeof r=="function"?r():r,We=v||d,te=(C==null?void 0:C.length)>0,ee=s.useState(!C||!te),q=T(ee,2),re=q[0],lr=q[1];if(X(function(){!re&&te&&o&&lr(!0)},[re,te,o]),!re)return null;var we="auto",ne={left:"-1000vw",top:"-1000vh",right:we,bottom:we};if(z||!v){var je,Be=N.points,ze=N.dynamicInset||((je=N._experimental)===null||je===void 0?void 0:je.dynamicInset),he=ze&&Be[0][1]==="r",Ne=ze&&Be[0][0]==="b";he?(ne.right=W,ne.left=we):(ne.left=Y,ne.right=we),Ne?(ne.bottom=H,ne.top=we):(ne.top=se,ne.bottom=we)}var J={};return fe&&(fe.includes("height")&&Z?J.height=Z:fe.includes("minHeight")&&Z&&(J.minHeight=Z),fe.includes("width")&&Q?J.width=Q:fe.includes("minWidth")&&Q&&(J.minWidth=Q)),v||(J.pointerEvents="none"),s.createElement(M,{open:w||We,getContainer:C&&function(){return C(o)},autoDestroy:P},s.createElement(sa,{prefixCls:a,open:v,zIndex:y,mask:S,motion:x}),s.createElement(an,{onResize:me,disabled:!v},function(Fe){return s.createElement(on,Er({motionAppear:!0,motionEnter:!0,motionLeave:!0,removeOnLeave:!1,forceRender:w,leavedClassName:"".concat(a,"-hidden")},c,{onAppearPrepare:p,onEnterPrepare:p,visible:v,onVisibleChanged:function(qe){var ae;c==null||(ae=c.onVisibleChanged)===null||ae===void 0||ae.call(c,qe),u(qe)}}),function(Ge,qe){var ae=Ge.className,rr=Ge.style,Ue=cr(a,ae,n);return s.createElement("div",{ref:hn(Fe,e,qe),className:Ue,style:D(D(D(D({"--arrow-x":"".concat(f.x||0,"px"),"--arrow-y":"".concat(f.y||0,"px")},ne),J),rr),{},{boxSizing:"border-box",zIndex:y},i),onMouseEnter:I,onMouseLeave:B,onPointerEnter:L,onClick:l},g&&s.createElement(ua,{prefixCls:a,arrow:g,arrowPos:f,align:N}),s.createElement(fa,{cache:!v&&!m},F))})}))}),la=s.forwardRef(function(t,e){var r=t.children,n=t.getTriggerDOMNode,a=Yr(r),i=s.useCallback(function(u){gn(e,n?n(u):u)},[n]),o=pt(i,r.ref);return a?s.cloneElement(r,{ref:o}):r}),Jt=s.createContext(null);function Qt(t){return t?Array.isArray(t)?t:[t]:[]}function va(t,e,r,n){return s.useMemo(function(){var a=Qt(r??e),i=Qt(n??e),o=new Set(a),u=new Set(i);return t&&(o.has("hover")&&(o.delete("hover"),o.add("click")),u.has("hover")&&(u.delete("hover"),u.add("click"))),[o,u]},[t,e,r,n])}function da(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],r=arguments.length>2?arguments[2]:void 0;return r?t[0]===e[0]:t[0]===e[0]&&t[1]===e[1]}function ma(t,e,r,n){for(var a=r.points,i=Object.keys(t),o=0;o<i.length;o+=1){var u,v=i[o];if(da((u=t[v])===null||u===void 0?void 0:u.points,a,n))return"".concat(e,"-placement-").concat(v)}return""}function Zt(t,e,r,n){return e||(r?{motionName:"".concat(t,"-").concat(r)}:n?{motionName:n}:null)}function Dr(t){return t.ownerDocument.defaultView}function kt(t){for(var e=[],r=t==null?void 0:t.parentElement,n=["hidden","scroll","clip","auto"];r;){var a=Dr(r).getComputedStyle(r),i=a.overflowX,o=a.overflowY,u=a.overflow;[i,o,u].some(function(v){return n.includes(v)})&&e.push(r),r=r.parentElement}return e}function Pr(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return Number.isNaN(t)?e:t}function wr(t){return Pr(parseFloat(t),0)}function Kt(t,e){var r=D({},t);return(e||[]).forEach(function(n){if(!(n instanceof HTMLBodyElement||n instanceof HTMLHtmlElement)){var a=Dr(n).getComputedStyle(n),i=a.overflow,o=a.overflowClipMargin,u=a.borderTopWidth,v=a.borderBottomWidth,d=a.borderLeftWidth,m=a.borderRightWidth,l=n.getBoundingClientRect(),S=n.offsetHeight,g=n.clientHeight,f=n.offsetWidth,N=n.clientWidth,c=wr(u),x=wr(v),w=wr(d),C=wr(m),P=Pr(Math.round(l.width/f*1e3)/1e3),M=Pr(Math.round(l.height/S*1e3)/1e3),y=(f-N-w-C)*P,I=(S-g-c-x)*M,B=c*M,L=x*M,z=w*P,Y=C*P,se=0,W=0;if(i==="clip"){var H=wr(o);se=H*P,W=H*M}var me=l.x+z-se,p=l.y+B-W,fe=me+l.width+2*se-z-Y-y,Q=p+l.height+2*W-B-L-I;r.left=Math.max(r.left,me),r.top=Math.max(r.top,p),r.right=Math.min(r.right,fe),r.bottom=Math.min(r.bottom,Q)}}),r}function Ot(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r="".concat(e),n=r.match(/^(.*)\%$/);return n?t*(parseFloat(n[1])/100):parseFloat(r)}function Xt(t,e){var r=e||[],n=T(r,2),a=n[0],i=n[1];return[Ot(t.width,a),Ot(t.height,i)]}function Yt(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return[t[0],t[1]]}function fr(t,e){var r=e[0],n=e[1],a,i;return r==="t"?i=t.y:r==="b"?i=t.y+t.height:i=t.y+t.height/2,n==="l"?a=t.x:n==="r"?a=t.x+t.width:a=t.x+t.width/2,{x:a,y:i}}function He(t,e){var r={t:"b",b:"t",l:"r",r:"l"};return t.map(function(n,a){return a===e?r[n]||"c":n}).join("")}function ha(t,e,r,n,a,i,o){var u=s.useState({ready:!1,offsetX:0,offsetY:0,offsetR:0,offsetB:0,arrowX:0,arrowY:0,scaleX:1,scaleY:1,align:a[n]||{}}),v=T(u,2),d=v[0],m=v[1],l=s.useRef(0),S=s.useMemo(function(){return e?kt(e):[]},[e]),g=s.useRef({}),f=function(){g.current={}};t||f();var N=Ve(function(){if(e&&r&&t){let de=function(Sr,Re){var er=arguments.length>2&&arguments[2]!==void 0?arguments[2]:kr,Jr=q.x+Sr,Qr=q.y+Re,wt=Jr+Ne,Nt=Qr+he,h=Math.max(Jr,er.left),b=Math.max(Qr,er.top),_=Math.min(wt,er.right),V=Math.min(Nt,er.bottom);return Math.max(0,(_-h)*(V-b))},ur=function(){Ke=q.y+R,Oe=Ke+he,ke=q.x+k,nr=ke+Ne};var w,C,P,M,y=e,I=y.ownerDocument,B=Dr(y),L=B.getComputedStyle(y),z=L.width,Y=L.height,se=L.position,W=y.style.left,H=y.style.top,me=y.style.right,p=y.style.bottom,fe=y.style.overflow,Q=D(D({},a[n]),i),Z=I.createElement("div");(w=y.parentElement)===null||w===void 0||w.appendChild(Z),Z.style.left="".concat(y.offsetLeft,"px"),Z.style.top="".concat(y.offsetTop,"px"),Z.style.position=se,Z.style.height="".concat(y.offsetHeight,"px"),Z.style.width="".concat(y.offsetWidth,"px"),y.style.left="0",y.style.top="0",y.style.right="auto",y.style.bottom="auto",y.style.overflow="hidden";var F;if(Array.isArray(r))F={x:r[0],y:r[1],width:0,height:0};else{var We,te,ee=r.getBoundingClientRect();ee.x=(We=ee.x)!==null&&We!==void 0?We:ee.left,ee.y=(te=ee.y)!==null&&te!==void 0?te:ee.top,F={x:ee.x,y:ee.y,width:ee.width,height:ee.height}}var q=y.getBoundingClientRect();q.x=(C=q.x)!==null&&C!==void 0?C:q.left,q.y=(P=q.y)!==null&&P!==void 0?P:q.top;var re=I.documentElement,lr=re.clientWidth,we=re.clientHeight,ne=re.scrollWidth,je=re.scrollHeight,Be=re.scrollTop,ze=re.scrollLeft,he=q.height,Ne=q.width,J=F.height,Fe=F.width,Ge={left:0,top:0,right:lr,bottom:we},qe={left:-ze,top:-Be,right:ne-ze,bottom:je-Be},ae=Q.htmlRegion,rr="visible",Ue="visibleFirst";ae!=="scroll"&&ae!==Ue&&(ae=rr);var ie=ae===Ue,et=Kt(qe,S),A=Kt(Ge,S),kr=ae===rr?A:et,Je=ie?A:kr;y.style.left="auto",y.style.top="auto",y.style.right="0",y.style.bottom="0";var K=y.getBoundingClientRect();y.style.left=W,y.style.top=H,y.style.right=me,y.style.bottom=p,y.style.overflow=fe,(M=y.parentElement)===null||M===void 0||M.removeChild(Z);var Ie=Pr(Math.round(Ne/parseFloat(z)*1e3)/1e3),De=Pr(Math.round(he/parseFloat(Y)*1e3)/1e3);if(Ie===0||De===0||xt(r)&&!yn(r))return;var rt=Q.offset,tt=Q.targetOffset,Ar=Xt(q,rt),ge=T(Ar,2),ye=ge[0],ce=ge[1],nt=Xt(F,tt),Qe=T(nt,2),le=Qe[0],_e=Qe[1];F.x-=le,F.y-=_e;var at=Q.points||[],Rr=T(at,2),it=Rr[0],ot=Rr[1],Ce=Yt(ot),oe=Yt(it),vr=fr(F,Ce),O=fr(q,oe),$e=D({},Q),k=vr.x-O.x+ye,R=vr.y-O.y+ce,be=de(k,R),Ze=de(k,R,A),dr=fr(F,["t","l"]),ve=fr(q,["t","l"]),Tr=fr(F,["b","r"]),mr=fr(q,["b","r"]),Le=Q.overflow||{},Ir=Le.adjustX,ut=Le.adjustY,hr=Le.shiftX,tr=Le.shiftY,gr=function(Re){return typeof Re=="boolean"?Re:Re>=0},Ke,Oe,ke,nr;ur();var Xe=gr(ut),_r=oe[0]===Ce[0];if(Xe&&oe[0]==="t"&&(Oe>Je.bottom||g.current.bt)){var U=R;_r?U-=he-J:U=dr.y-mr.y-ce;var $r=de(k,U),st=de(k,U,A);$r>be||$r===be&&(!ie||st>=Ze)?(g.current.bt=!0,R=U,ce=-ce,$e.points=[He(oe,0),He(Ce,0)]):g.current.bt=!1}if(Xe&&oe[0]==="b"&&(Ke<Je.top||g.current.tb)){var Ye=R;_r?Ye+=he-J:Ye=Tr.y-ve.y-ce;var Lr=de(k,Ye),ft=de(k,Ye,A);Lr>be||Lr===be&&(!ie||ft>=Ze)?(g.current.tb=!0,R=Ye,ce=-ce,$e.points=[He(oe,0),He(Ce,0)]):g.current.tb=!1}var Hr=gr(Ir),Vr=oe[1]===Ce[1];if(Hr&&oe[1]==="l"&&(nr>Je.right||g.current.rl)){var pe=k;Vr?pe-=Ne-Fe:pe=dr.x-mr.x-ye;var Wr=de(pe,R),ar=de(pe,R,A);Wr>be||Wr===be&&(!ie||ar>=Ze)?(g.current.rl=!0,k=pe,ye=-ye,$e.points=[He(oe,1),He(Ce,1)]):g.current.rl=!1}if(Hr&&oe[1]==="r"&&(ke<Je.left||g.current.lr)){var Ae=k;Vr?Ae+=Ne-Fe:Ae=Tr.x-ve.x-ye;var jr=de(Ae,R),Br=de(Ae,R,A);jr>be||jr===be&&(!ie||Br>=Ze)?(g.current.lr=!0,k=Ae,ye=-ye,$e.points=[He(oe,1),He(Ce,1)]):g.current.lr=!1}ur();var Ee=hr===!0?0:hr;typeof Ee=="number"&&(ke<A.left&&(k-=ke-A.left-ye,F.x+Fe<A.left+Ee&&(k+=F.x-A.left+Fe-Ee)),nr>A.right&&(k-=nr-A.right-ye,F.x>A.right-Ee&&(k+=F.x-A.right+Ee)));var Se=tr===!0?0:tr;typeof Se=="number"&&(Ke<A.top&&(R-=Ke-A.top-ce,F.y+J<A.top+Se&&(R+=F.y-A.top+J-Se)),Oe>A.bottom&&(R-=Oe-A.bottom-ce,F.y>A.bottom-Se&&(R+=F.y-A.bottom+Se)));var ir=q.x+k,or=ir+Ne,Me=q.y+R,ct=Me+he,zr=F.x,lt=zr+Fe,yr=F.y,vt=yr+J,dt=Math.max(ir,zr),mt=Math.min(or,lt),Gr=(dt+mt)/2,ht=Gr-ir,gt=Math.max(Me,yr),Ur=Math.min(ct,vt),yt=(gt+Ur)/2,bt=yt-Me;o==null||o(e,$e);var br=K.right-q.x-(k+q.width),xe=K.bottom-q.y-(R+q.height);Ie===1&&(k=Math.round(k),br=Math.round(br)),De===1&&(R=Math.round(R),xe=Math.round(xe));var St={ready:!0,offsetX:k/Ie,offsetY:R/De,offsetR:br/Ie,offsetB:xe/De,arrowX:ht/Ie,arrowY:bt/De,scaleX:Ie,scaleY:De,align:$e};m(St)}}),c=function(){l.current+=1;var C=l.current;Promise.resolve().then(function(){l.current===C&&N()})},x=function(){m(function(C){return D(D({},C),{},{ready:!1})})};return X(x,[n]),X(function(){t||x()},[t]),[d.ready,d.offsetX,d.offsetY,d.offsetR,d.offsetB,d.arrowX,d.arrowY,d.scaleX,d.scaleY,d.align,c]}function ga(t,e,r,n,a){X(function(){if(t&&e&&r){let l=function(){n(),a()};var i=e,o=r,u=kt(i),v=kt(o),d=Dr(o),m=new Set([d].concat(Te(u),Te(v)));return m.forEach(function(S){S.addEventListener("scroll",l,{passive:!0})}),d.addEventListener("resize",l,{passive:!0}),n(),function(){m.forEach(function(S){S.removeEventListener("scroll",l),d.removeEventListener("resize",l)})}}},[t,e,r])}function ya(t,e,r,n,a,i,o,u){var v=s.useRef(t);v.current=t,s.useEffect(function(){if(e&&n&&(!a||i)){var d=function(g){var f;v.current&&!o(((f=g.composedPath)===null||f===void 0||(f=f.call(g))===null||f===void 0?void 0:f[0])||g.target)&&u(!1)},m=Dr(n);m.addEventListener("mousedown",d,!0),m.addEventListener("contextmenu",d,!0);var l=Pt(r);return l&&(l.addEventListener("mousedown",d,!0),l.addEventListener("contextmenu",d,!0)),function(){m.removeEventListener("mousedown",d,!0),m.removeEventListener("contextmenu",d,!0),l&&(l.removeEventListener("mousedown",d,!0),l.removeEventListener("contextmenu",d,!0))}}},[e,r,n,a,i])}var ba=["prefixCls","children","action","showAction","hideAction","popupVisible","defaultPopupVisible","onPopupVisibleChange","afterPopupVisibleChange","mouseEnterDelay","mouseLeaveDelay","focusDelay","blurDelay","mask","maskClosable","getPopupContainer","forceRender","autoDestroy","destroyPopupOnHide","popup","popupClassName","popupStyle","popupPlacement","builtinPlacements","popupAlign","zIndex","stretch","getPopupClassNameFromAlign","fresh","alignPoint","onPopupClick","onPopupAlign","arrow","popupMotion","maskMotion","popupTransitionName","popupAnimation","maskTransitionName","maskAnimation","className","getTriggerDOMNode"];function Sa(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:sn,e=s.forwardRef(function(r,n){var a=r.prefixCls,i=a===void 0?"rc-trigger-popup":a,o=r.children,u=r.action,v=u===void 0?"hover":u,d=r.showAction,m=r.hideAction,l=r.popupVisible,S=r.defaultPopupVisible,g=r.onPopupVisibleChange,f=r.afterPopupVisibleChange,N=r.mouseEnterDelay,c=r.mouseLeaveDelay,x=c===void 0?.1:c,w=r.focusDelay,C=r.blurDelay,P=r.mask,M=r.maskClosable,y=M===void 0?!0:M,I=r.getPopupContainer,B=r.forceRender,L=r.autoDestroy,z=r.destroyPopupOnHide,Y=r.popup,se=r.popupClassName,W=r.popupStyle,H=r.popupPlacement,me=r.builtinPlacements,p=me===void 0?{}:me,fe=r.popupAlign,Q=r.zIndex,Z=r.stretch,F=r.getPopupClassNameFromAlign,We=r.fresh,te=r.alignPoint,ee=r.onPopupClick,q=r.onPopupAlign,re=r.arrow,lr=r.popupMotion,we=r.maskMotion,ne=r.popupTransitionName,je=r.popupAnimation,Be=r.maskTransitionName,ze=r.maskAnimation,he=r.className,Ne=r.getTriggerDOMNode,J=Rt(r,ba),Fe=L||z||!1,Ge=s.useState(!1),qe=T(Ge,2),ae=qe[0],rr=qe[1];X(function(){rr(bn())},[]);var Ue=s.useRef({}),ie=s.useContext(Jt),et=s.useMemo(function(){return{registerSubPopup:function(b,_){Ue.current[b]=_,ie==null||ie.registerSubPopup(b,_)}}},[ie]),A=Sn(),kr=s.useState(null),Je=T(kr,2),K=Je[0],Ie=Je[1],De=s.useRef(null),rt=Ve(function(h){De.current=h,xt(h)&&K!==h&&Ie(h),ie==null||ie.registerSubPopup(A,h)}),tt=s.useState(null),Ar=T(tt,2),ge=Ar[0],ye=Ar[1],ce=s.useRef(null),nt=Ve(function(h){xt(h)&&ge!==h&&(ye(h),ce.current=h)}),Qe=s.Children.only(o),le=(Qe==null?void 0:Qe.props)||{},_e={},at=Ve(function(h){var b,_,V=ge;return(V==null?void 0:V.contains(h))||((b=Pt(V))===null||b===void 0?void 0:b.host)===h||h===V||(K==null?void 0:K.contains(h))||((_=Pt(K))===null||_===void 0?void 0:_.host)===h||h===K||Object.values(Ue.current).some(function($){return($==null?void 0:$.contains(h))||h===$})}),Rr=Zt(i,lr,je,ne),it=Zt(i,we,ze,Be),ot=s.useState(S||!1),Ce=T(ot,2),oe=Ce[0],vr=Ce[1],O=l??oe,$e=Ve(function(h){l===void 0&&vr(h)});X(function(){vr(l||!1)},[l]);var k=s.useRef(O);k.current=O;var R=s.useRef([]);R.current=[];var be=Ve(function(h){var b;$e(h),((b=R.current[R.current.length-1])!==null&&b!==void 0?b:O)!==h&&(R.current.push(h),g==null||g(h))}),Ze=s.useRef(),dr=function(){clearTimeout(Ze.current)},ve=function(b){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;dr(),_===0?be(b):Ze.current=setTimeout(function(){be(b)},_*1e3)};s.useEffect(function(){return dr},[]);var Tr=s.useState(!1),mr=T(Tr,2),Le=mr[0],Ir=mr[1];X(function(h){(!h||O)&&Ir(!0)},[O]);var ut=s.useState(null),hr=T(ut,2),tr=hr[0],gr=hr[1],Ke=s.useState(null),Oe=T(Ke,2),ke=Oe[0],nr=Oe[1],Xe=function(b){nr([b.clientX,b.clientY])},_r=ha(O,K,te&&ke!==null?ke:ge,H,p,fe,q),U=T(_r,11),$r=U[0],st=U[1],Ye=U[2],Lr=U[3],ft=U[4],Hr=U[5],Vr=U[6],pe=U[7],Wr=U[8],ar=U[9],Ae=U[10],jr=va(ae,v,d,m),Br=T(jr,2),Ee=Br[0],Se=Br[1],ir=Ee.has("click"),or=Se.has("click")||Se.has("contextMenu"),Me=Ve(function(){Le||Ae()}),ct=function(){k.current&&te&&or&&ve(!1)};ga(O,ge,K,Me,ct),X(function(){Me()},[ke,H]),X(function(){O&&!(p!=null&&p[H])&&Me()},[JSON.stringify(fe)]);var zr=s.useMemo(function(){var h=ma(p,i,ar,te);return cr(h,F==null?void 0:F(ar))},[ar,F,p,i,te]);s.useImperativeHandle(n,function(){return{nativeElement:ce.current,popupElement:De.current,forceAlign:Me}});var lt=s.useState(0),yr=T(lt,2),vt=yr[0],dt=yr[1],mt=s.useState(0),Gr=T(mt,2),ht=Gr[0],gt=Gr[1],Ur=function(){if(Z&&ge){var b=ge.getBoundingClientRect();dt(b.width),gt(b.height)}},yt=function(){Ur(),Me()},bt=function(b){Ir(!1),Ae(),f==null||f(b)},br=function(){return new Promise(function(b){Ur(),gr(function(){return b})})};X(function(){tr&&(Ae(),tr(),gr(null))},[tr]);function xe(h,b,_,V){_e[h]=function($){var Zr;V==null||V($),ve(b,_);for(var Ct=arguments.length,It=new Array(Ct>1?Ct-1:0),Kr=1;Kr<Ct;Kr++)It[Kr-1]=arguments[Kr];(Zr=le[h])===null||Zr===void 0||Zr.call.apply(Zr,[le,$].concat(It))}}(ir||or)&&(_e.onClick=function(h){var b;k.current&&or?ve(!1):!k.current&&ir&&(Xe(h),ve(!0));for(var _=arguments.length,V=new Array(_>1?_-1:0),$=1;$<_;$++)V[$-1]=arguments[$];(b=le.onClick)===null||b===void 0||b.call.apply(b,[le,h].concat(V))}),ya(O,or,ge,K,P,y,at,ve);var St=Ee.has("hover"),de=Se.has("hover"),ur,Sr;St&&(xe("onMouseEnter",!0,N,function(h){Xe(h)}),xe("onPointerEnter",!0,N,function(h){Xe(h)}),ur=function(b){(O||Le)&&K!==null&&K!==void 0&&K.contains(b.target)&&ve(!0,N)},te&&(_e.onMouseMove=function(h){var b;(b=le.onMouseMove)===null||b===void 0||b.call(le,h)})),de&&(xe("onMouseLeave",!1,x),xe("onPointerLeave",!1,x),Sr=function(){ve(!1,x)}),Ee.has("focus")&&xe("onFocus",!0,w),Se.has("focus")&&xe("onBlur",!1,C),Ee.has("contextMenu")&&(_e.onContextMenu=function(h){var b;k.current&&Se.has("contextMenu")?ve(!1):(Xe(h),ve(!0)),h.preventDefault();for(var _=arguments.length,V=new Array(_>1?_-1:0),$=1;$<_;$++)V[$-1]=arguments[$];(b=le.onContextMenu)===null||b===void 0||b.call.apply(b,[le,h].concat(V))}),he&&(_e.className=cr(le.className,he));var Re=D(D({},le),_e),er={},Jr=["onContextMenu","onClick","onMouseDown","onTouchStart","onMouseEnter","onMouseLeave","onFocus","onBlur"];Jr.forEach(function(h){J[h]&&(er[h]=function(){for(var b,_=arguments.length,V=new Array(_),$=0;$<_;$++)V[$]=arguments[$];(b=Re[h])===null||b===void 0||b.call.apply(b,[Re].concat(V)),J[h].apply(J,V)})});var Qr=s.cloneElement(Qe,D(D({},Re),er)),wt={x:Hr,y:Vr},Nt=re?D({},re!==!0?re:{}):null;return s.createElement(s.Fragment,null,s.createElement(an,{disabled:!O,ref:nt,onResize:yt},s.createElement(la,{getTriggerDOMNode:Ne},Qr)),s.createElement(Jt.Provider,{value:et},s.createElement(ca,{portal:t,ref:rt,prefixCls:i,popup:Y,className:cr(se,zr),style:W,target:ge,onMouseEnter:ur,onMouseLeave:Sr,onPointerEnter:ur,zIndex:Q,open:O,keepDom:Le,fresh:We,onClick:ee,mask:P,motion:Rr,maskMotion:it,onVisibleChanged:bt,onPrepare:br,forceRender:B,autoDestroy:Fe,getPopupContainer:I,align:ar,arrow:Nt,arrowPos:wt,ready:$r,offsetX:st,offsetY:Ye,offsetR:Lr,offsetB:ft,onAlign:Me,stretch:Z,targetWidth:vt/pe,targetHeight:ht/Wr})))});return e}const Ra=Sa(sn);function At(){return typeof BigInt=="function"}function cn(t){return!t&&t!==0&&!Number.isNaN(t)||!String(t).trim()}function xr(t){var e=t.trim(),r=e.startsWith("-");r&&(e=e.slice(1)),e=e.replace(/(\.\d*[^0])0*$/,"$1").replace(/\.0*$/,"").replace(/^0+/,""),e.startsWith(".")&&(e="0".concat(e));var n=e||"0",a=n.split("."),i=a[0]||"0",o=a[1]||"0";i==="0"&&o==="0"&&(r=!1);var u=r?"-":"";return{negative:r,negativeStr:u,trimStr:n,integerStr:i,decimalStr:o,fullStr:"".concat(u).concat(n)}}function Tt(t){var e=String(t);return!Number.isNaN(Number(e))&&e.includes("e")}function Cr(t){var e=String(t);if(Tt(t)){var r=Number(e.slice(e.indexOf("e-")+2)),n=e.match(/\.(\d+)/);return n!=null&&n[1]&&(r+=n[1].length),r}return e.includes(".")&&vn(e)?e.length-e.indexOf(".")-1:0}function ln(t){var e=String(t);if(Tt(t)){if(t>Number.MAX_SAFE_INTEGER)return String(At()?BigInt(t).toString():Number.MAX_SAFE_INTEGER);if(t<Number.MIN_SAFE_INTEGER)return String(At()?BigInt(t).toString():Number.MIN_SAFE_INTEGER);e=t.toFixed(Cr(e))}return xr(e).fullStr}function vn(t){return typeof t=="number"?!Number.isNaN(t):t?/^\s*-?\d+(\.\d+)?\s*$/.test(t)||/^\s*-?\d+\.\s*$/.test(t)||/^\s*-?\.\d+\s*$/.test(t):!1}var wa=function(){function t(e){if(Fr(this,t),G(this,"origin",""),G(this,"negative",void 0),G(this,"integer",void 0),G(this,"decimal",void 0),G(this,"decimalLen",void 0),G(this,"empty",void 0),G(this,"nan",void 0),cn(e)){this.empty=!0;return}if(this.origin=String(e),e==="-"||Number.isNaN(e)){this.nan=!0;return}var r=e;if(Tt(r)&&(r=Number(r)),r=typeof r=="string"?r:ln(r),vn(r)){var n=xr(r);this.negative=n.negative;var a=n.trimStr.split(".");this.integer=BigInt(a[0]);var i=a[1]||"0";this.decimal=BigInt(i),this.decimalLen=i.length}else this.nan=!0}return qr(t,[{key:"getMark",value:function(){return this.negative?"-":""}},{key:"getIntegerStr",value:function(){return this.integer.toString()}},{key:"getDecimalStr",value:function(){return this.decimal.toString().padStart(this.decimalLen,"0")}},{key:"alignDecimal",value:function(r){var n="".concat(this.getMark()).concat(this.getIntegerStr()).concat(this.getDecimalStr().padEnd(r,"0"));return BigInt(n)}},{key:"negate",value:function(){var r=new t(this.toString());return r.negative=!r.negative,r}},{key:"cal",value:function(r,n,a){var i=Math.max(this.getDecimalStr().length,r.getDecimalStr().length),o=this.alignDecimal(i),u=r.alignDecimal(i),v=n(o,u).toString(),d=a(i),m=xr(v),l=m.negativeStr,S=m.trimStr,g="".concat(l).concat(S.padStart(d+1,"0"));return new t("".concat(g.slice(0,-d),".").concat(g.slice(-d)))}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=new t(r);return n.isInvalidate()?this:this.cal(n,function(a,i){return a+i},function(a){return a})}},{key:"multi",value:function(r){var n=new t(r);return this.isInvalidate()||n.isInvalidate()?new t(NaN):this.cal(n,function(a,i){return a*i},function(a){return a*2})}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return this.nan}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toString()===(r==null?void 0:r.toString())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.isNaN()?NaN:Number(this.toString())}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":xr("".concat(this.getMark()).concat(this.getIntegerStr(),".").concat(this.getDecimalStr())).fullStr:this.origin}}]),t}(),Na=function(){function t(e){if(Fr(this,t),G(this,"origin",""),G(this,"number",void 0),G(this,"empty",void 0),cn(e)){this.empty=!0;return}this.origin=String(e),this.number=Number(e)}return qr(t,[{key:"negate",value:function(){return new t(-this.toNumber())}},{key:"add",value:function(r){if(this.isInvalidate())return new t(r);var n=Number(r);if(Number.isNaN(n))return this;var a=this.number+n;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var i=Math.max(Cr(this.number),Cr(n));return new t(a.toFixed(i))}},{key:"multi",value:function(r){var n=Number(r);if(this.isInvalidate()||Number.isNaN(n))return new t(NaN);var a=this.number*n;if(a>Number.MAX_SAFE_INTEGER)return new t(Number.MAX_SAFE_INTEGER);if(a<Number.MIN_SAFE_INTEGER)return new t(Number.MIN_SAFE_INTEGER);var i=Math.max(Cr(this.number),Cr(n));return new t(a.toFixed(i))}},{key:"isEmpty",value:function(){return this.empty}},{key:"isNaN",value:function(){return Number.isNaN(this.number)}},{key:"isInvalidate",value:function(){return this.isEmpty()||this.isNaN()}},{key:"equals",value:function(r){return this.toNumber()===(r==null?void 0:r.toNumber())}},{key:"lessEquals",value:function(r){return this.add(r.negate().toString()).toNumber()<=0}},{key:"toNumber",value:function(){return this.number}},{key:"toString",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;return r?this.isInvalidate()?"":ln(this.number):this.origin}}]),t}();function Ca(t){return At()?new wa(t):new Na(t)}function Ea(t,e,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t==="")return"";var a=xr(t),i=a.negativeStr,o=a.integerStr,u=a.decimalStr,v="".concat(e).concat(u),d="".concat(i).concat(o);if(r>=0){var m=Number(u[r]);if(m>=5&&!n){var l=Ca(t).add("".concat(i,"0.").concat("0".repeat(r)).concat(10-m));return Ea(l.toString(),e,r,n)}return r===0?d:"".concat(d).concat(e).concat(u.padEnd(r,"0").slice(0,r))}return v===".0"?d:"".concat(d).concat(v)}function Ta(t){var e=s.createContext(void 0),r=function(a){var i=a.value,o=a.children,u=s.useRef(i);u.current=i;var v=s.useState(function(){return{getValue:function(){return u.current},listeners:new Set}}),d=T(v,1),m=d[0];return X(function(){nn.unstable_batchedUpdates(function(){m.listeners.forEach(function(l){l(i)})})},[i]),s.createElement(e.Provider,{value:m},o)};return{Context:e,Provider:r,defaultValue:t}}function Ia(t,e){var r=Ve(typeof e=="function"?e:function(l){if(e===void 0)return l;if(!Array.isArray(e))return l[e];var S={};return e.forEach(function(g){S[g]=l[g]}),S}),n=s.useContext(t==null?void 0:t.Context),a=n||{},i=a.listeners,o=a.getValue,u=s.useRef();u.current=r(n?o():t==null?void 0:t.defaultValue);var v=s.useState({}),d=T(v,2),m=d[1];return X(function(){if(!n)return;function l(S){var g=r(S);wn(u.current,g,!0)||m({})}return i.add(l),function(){i.delete(l)}},[n]),u.current}function _a(){var t=s.createContext(null);function e(){return s.useContext(t)}function r(a,i){var o=Yr(a),u=function(d,m){var l=o?{ref:m}:{},S=s.useRef(0),g=s.useRef(d),f=e();return f!==null?s.createElement(a,Er({},d,l)):((!i||i(g.current,d))&&(S.current+=1),g.current=d,s.createElement(t.Provider,{value:S.current},s.createElement(a,Er({},d,l))))};return o?s.forwardRef(u):u}function n(a,i){var o=Yr(a),u=function(d,m){var l=o?{ref:m}:{};return e(),s.createElement(a,Er({},d,l))};return o?s.memo(s.forwardRef(u),i):s.memo(u,i)}return{makeImmutable:r,responseImmutable:n,useImmutableMark:e}}export{Lt as C,sn as P,pr as S,Ra as T,Cr as a,Ea as b,_a as c,Ta as d,Ca as g,ln as n,xr as t,Ia as u,vn as v};
